# Q 通过 Taylor 展开理解中值定理的参数形式

回想学习中值定理的时候，拉格朗日中值定理有另外一个名字，叫做 [[微分中值定理#有限增量公式|有限增量公式]]。它的另外一种形式即为：
$$
f(x)=f(x_{0}) + f'(x_{0}+\theta\Delta x)\Delta x,\theta\in(0,1)
$$
进一步地，对于[[Taylor 展开#带 Lagrange 余项的 Taylor 展开|带拉格朗日余项的泰勒展开]]，同样也有这样的形式：
$$
f(x)=P_n(x;x_{0})+\frac{f^{(n)}(x_{0}+\theta\Delta x)}{n!}(\Delta x)^{n},\theta\in (0,1)
$$
在这种问题中，我们可以对于 $\theta$ 有更加精确的认识

### 例题 1 对于拉格朗日余项中 $\theta$ 的估计

#### 例题 1.1 

>[!question] 例题 1.1
>给定 $n+1$ 阶可导的函数 $f$，并且写出其带 Lagrange 余项的泰勒展开$$f(x)=P_{n-1}(x;x_{0})+\frac{f^{(n)}(x_{0}+\theta h)}{n!}h^{n},\theta\in (0,1)$$求证：$$\lim_{ h \to 0 } \theta(h)=\frac{1}{n+1}$$

首先，通过更加高阶的展开来控制上述 $\theta$，选择对 $f$ 展开至 $n+1$ 阶，保留 Peano 余项
$$
f(x)=P_{n-1}(x;x_{0})+\frac{f^{(n)}(x_{0})}{n!}h^n+\frac{f^{(n+1)}(x_{0})}{(n+1)!}h^{n+1}+o(h^{n+1})
$$
将两个东西对应相减，得到：
$$
\frac{f^{(n)}(x_{0}+\theta h)}{n!}h^{n}=\frac{f^{(n)}(x_{0})}{n!}h^n+\frac{f^{(n+1)}(x_{0})}{(n+1)!}h^{n+1}+o(h^{n+1})
$$
整理一下，两边同时除以 $h^{n+1}$ 得到：
$$
\frac{1}{n!}\frac{f^{(n)}(x_{0}+\theta h)-f^{(n)}(x_{0})}{h}=\frac{f^{(n+1)}(x_{0})}{(n+1)!}+o(1)
$$
再整理一下系数，得到：
$$
\frac{f^{(n)}(x_{0}+\theta h)-f^{(n)}(x_{0})}{h}=\frac{f^{(n+1)}(x_{0})}{n+1}+o(1)
$$
由于要求 $\theta$ 的极限，于是进行配凑，得到：
$$
\theta\frac{f^{(n)}(x_{0}+\theta h)-f^{(n)}(x_{0})}{\theta h}=\frac{f^{(n+1)}(x_{0})}{n+1}+o(1)
$$
观察到，左侧类似于高一阶的导数。把两边的 $h\to 0$ 得到：
$$
\theta f^{(n+1)}(x_{0})=\frac{1}{n+1}f^{(n+1)}(x_{0})
$$
于是有：
$$
\lim_{ h \to 0 } \theta(h)=\frac{1}{n+1}
$$
证毕

#### 例题 1.2 特殊情形

给出特殊情形：当 $n = 1$ 的时候，也即有：
$$
f(x)=f(x_{0})+f'(x_{0}+\theta h)h
$$
的时候，则有：
$$
\lim_{ h \to 0 } \theta(h)=\frac{1}{2}
$$
对于这种最佳系数的控制问题，有类似的例子在期中考试考过

>[!question] 例题 1.2 
>设函数 $f$ 二阶可导，且满足 $f(0)=0$，求证：如下定义的函数 $g$：$$g(x)=\begin{cases}\frac{f(x)}{x},&x\neq 0\\ f'(0),&x=0
\end{cases}$$其导函数 $g'$ 在 $x=0$ 处连续，且满足 $g'(0)=\frac{1}{2}f''(0)$

显然有 $g$ 在 $x=0$ 处连续。想要证明导函数的性质，并且我们还不知道导函数在 $x=0$ 点是否可导，我们只能够应用导数极限定理证明，于是只要证明：
$$
\lim_{ x \to 0 } g'(x)=\frac{1}{2}f''(0)
$$
首先解决一下在零处以外的 $g'(x)$ 的表达式：
$$
g'(x)=\left( \frac{f(x)}{x} \right)'=\frac{f'(x)x-f(x)}{x^2}
$$
这其实是一种最佳系数的控制问题，势必要用泰勒展开。我们先对 $f$ 展开到三阶，保留有 Peano 余项，则有：
$$
f(x)=f(0) + f'(0)x+\frac{1}{2}f''(0)x^2+o(x^2)
$$
对 $f'(x)$ 也泰勒展开，展开到二阶，得到：
$$
f'(x)=f'(0)+f''(0)x+o(x)
$$
把这个东西代入到上面的极限式子中去，得到：
$$
\begin{align}
g'(x)&=\frac{x(f'(0)+f''(0)x)-\left( f(0) + f'(0)x+\frac{1}{2}f''(0)x^2 \right)+o(x^2)}{x^2} \\
&=\frac{1}{2}f''(0)+o(1)
\end{align}
$$
将 $x\to 0$ 取极限即可，证毕

#### 总结

上述两个问题都是这样的：从不知道哪个地方冒出来一个神奇的系数，然后让你证明这个系数是对的。通常来讲，这个系数是由泰勒展开给出的。在这种情况下，只要获得“更多的信息”——将泰勒展开多保留一阶，通常就可以做到了
